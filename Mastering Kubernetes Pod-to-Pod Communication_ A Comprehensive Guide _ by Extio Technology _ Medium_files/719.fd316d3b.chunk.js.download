"use strict";(self.webpackChunklite=self.webpackChunklite||[]).push([[719],{18599:(e,t,n)=>{n.d(t,{a:()=>S,r:()=>k});var o=n(96540),r=n(28899),i=n(87147),l=n(67476),a=n(5562),c=n(52290),u=n(86975),d=n(86527),s=n(36557),p=n(39),f=n(44402),m=n(56774),g=n(51260),v=n(90383),b=n(27715),w=n(60213),h=function(e){return{":hover span":{color:e.colorTokens.foreground.neutral.primary.base}}},E=function(e){return{position:"absolute",height:"42px",width:"100%",top:0,left:0,borderTopLeftRadius:"4px",borderTopRightRadius:"4px",backgroundImage:"url(".concat(e,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover"}},k=5,S=function(e){var t,n,k=e.collection,S=e.trackingV2,y=k.name,R=k.description,C=k.customStyleSheet,x=k.slug,I=(0,w.z)(k),D=(0,g.au)()("ShowLiteCollectionFollowers",{collectionSlug:x||""}),z=(0,m.X)({entity:k,trackingV2:S}),L=(0,p.Z)({name:"heading",scale:"XS",clamp:2,fontWeight:"NORMAL",color:"NORMAL"}),A=(0,f.l)(),_=null!=C&&null!==(t=C.header)&&void 0!==t&&null!==(n=t.backgroundImage)&&void 0!==n&&n.id?(0,v.rP)({miroId:C.header.backgroundImage.id,strategy:v.qY.Resample}):null;return o.createElement(c.a,{width:"280px",display:"flex",flexDirection:"column",padding:"24px",position:"relative",ref:z},!!_&&o.createElement("div",{className:A(E(_))}),o.createElement(c.a,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end"},o.createElement(r.u,{size:64,collection:k,link:!0,showBorder:!!_}),o.createElement(c.a,null,o.createElement(i.E,{collection:k,buttonSize:"SMALL",buttonStyleFn:function(e){return e?"SUBTLE":"BRAND"},susiEntry:"follow_card",trackingV2:S}))),o.createElement(c.a,{marginTop:"12px",display:"flex",flexDirection:"column"},o.createElement(u.D,{href:I},o.createElement(c.a,{display:"flex",flexDirection:"column"},o.createElement("div",{className:A([L,{display:"block"}])},y))),o.createElement(c.a,{marginTop:"4px",display:"flex",flexDirection:"row"},o.createElement(s.kZ,{scale:"S",color:"LIGHTER"},"Publication"),o.createElement(a.d,{margin:"0 8px"}),o.createElement(d.N,{href:D,linkStyle:"SUBTLE",rules:h},o.createElement(s.kZ,{scale:"S",color:"DARKER",tag:"span"},(0,b.Ct)(k.subscriberCount||0)),o.createElement(s.kZ,{scale:"S",tag:"span"},"Â Followers")))),R&&o.createElement(c.a,{paddingTop:"12px"},o.createElement(s.kZ,{scale:"S",color:"DARKER",clamp:4},o.createElement(l.O,{wrapLinks:!0},R))))}},83812:(e,t,n)=>{n.d(t,{_:()=>i});var o=n(19723),r=n(39160),i=function(){var e=(0,o.iT)("enable_publication_hierarchy_web"),t=e.loading,n=e.value;return(0,r.d4)((function(e){return e.cache.publicationHierarchyEnabledWeb}))||!t&&!!n}},67459:(e,t,n)=>{n.d(t,{J:()=>d,g:()=>u});var o=n(96540),r=n(64122),i=n(56742),l=n(51260),a=n(39160),c=n(60213),u=function(){var e=(0,a.d4)((function(e){return e.config.authDomain})),t=(0,l.RW)(),n=t.type===i.S9.USER,u=(0,l.om)(),d=(0,c.u)(),s=(0,r.W)();return(0,o.useCallback)((function(t){var o,r=t.uniqueSlug||t.id;if(t.isSeries)return"https://".concat(e).concat(u("ShowSeries",{postId:r}));if(null!==(o=t.sequence)&&void 0!==o&&o.slug)return"https://".concat(e).concat(u("ShowSequencePost",{sequenceSlug:t.sequence.slug,postId:r}));if(t.collection&&!n){var i=d({id:t.collection.id,domain:t.collection.domain,slug:t.collection.slug});return"".concat(i,"/").concat(r)}if(t.creator){var l=s(t.creator);return"".concat(l,"/").concat(r)}return"https://".concat(e).concat(u("ShowPost",{postId:r}))}),[t,u,d,s])},d=function(e){return u()(e)}},60213:(e,t,n)=>{n.d(t,{u:()=>l,z:()=>a});var o=n(96540),r=n(39160),i=n(79959),l=function(){var e=(0,r.d4)((function(e){return e.navigation.currentLocation})),t=(0,r.d4)((function(e){return e.config.authDomain})),n=(0,i.fo)();return(0,o.useCallback)((function(o){var r=o.id,i=o.domain,l=function(e){var t=e.id,n=e.slug;return n?"/".concat(n):"/c/".concat(t)}({id:r,domain:i,slug:o.slug});if(n)return"https://".concat(t).concat(l);try{var a=new URL(e).port;if(i)return"https://".concat(i).concat(a?":".concat(a):"")}catch(e){}return"https://".concat(t).concat(l)}),[n])},a=function(e){return l()(e)}},28899:(e,t,n)=>{n.d(t,{u:()=>b});var o=n(96540),r=n(83812),i=n(60213),l=n(7580),a=n(90280),c=n(86975),u=n(12378),d=n(44402),s=n(20239),p=n(18642),f=n(90383),m=function(e){var t=e.size,n=e.borderRadius;return function(e){return{borderRadius:(0,u.c)(n),width:(0,u.c)(t),height:(0,u.c)(t),backgroundColor:e.colorTokens.background.neutral.secondary.base}}},g=function(e){var t=e.size,n=e.borderRadius,o=e.showHoverState;return{borderRadius:(0,u.c)(n),display:"block",height:"".concat(t,"px"),width:"".concat(t,"px"),position:"absolute",top:0,boxShadow:"inset 0 0 0 1px ".concat((0,p.qy)(.05)),":hover":{backgroundColor:o?(0,p.qy)(.1):"none"}}},v=function(e){var t=e.showBorder,n=e.borderRadius;return{position:"relative",border:t?"2px solid white":void 0,borderRadius:t?(0,u.c)(n):void 0,display:t?"inline-block":"flex"}},b=function(e){var t=e.circular,n=e.collection,u=e.size,p=void 0===u?60:u,b=e.link,w=e.showHoverState,h=e.showBorder,E=void 0!==h&&h,k=(0,i.z)(n),S=(0,d.l)(),y=(0,s.D)(),R=(0,r._)();if(!n||!n.avatar||!n.avatar.id)return null;var C=n.avatar.id,x=n.name||"Publication avatar",I=t?o.createElement(l.r,{miroId:C,alt:x,diameter:p,freezeGifs:!1,showHoverState:w}):o.createElement("div",{className:S(v({showBorder:E,borderRadius:R?4:6}))},o.createElement(a.pg,{rules:[m({size:p,borderRadius:R?2:y.borderRadius.regular})],miroId:C,alt:x,width:p,height:p,strategy:f.qY.Crop}),o.createElement("div",{className:S(g({size:p,borderRadius:R?2:y.borderRadius.regular,showHoverState:w}))}));return b?o.createElement(c.D,{href:k},I):I}},87147:(e,t,n)=>{n.d(t,{E:()=>S});var o=n(80296),r=n(95420),i=n(96540),l=n(54239),a=n(26679),c=n(34208),u=n(2550),d=n(52764),s=n(86329),p=n(43634),f=n(15473),m=n(86527),g=n(52290),v=n(99731),b=n(72130),w=n(49287),h=n(51260),E=n(39160),k=n(46879),S=function(e){var t,n=e.buttonSize,k=e.buttonStyleFn,S=e.collection,R=e.post,C=e.simpleLink,x=e.susiEntry,I=void 0===x?"follow_card":x,D=e.preventParentClick,z=e.width,L=e.trackingV2,A=(0,E.d4)((function(e){return e.config.authDomain})),_=(0,u.A)().viewerId,F=(0,b.$L)(),T=(0,w.jI)(),N=(0,l.zy)(),V=(0,h.W5)(N.pathname),B=null==V||null===(t=V.route)||void 0===t?void 0:t.name,U=(0,s.J)(S),q=U.viewerEdge,P=U.loading,H=function(e,t){var n=(0,r.n)(c.j),l=(0,o.A)(n,1)[0];return i.useCallback((function(){return l({variables:{id:e.id},optimisticResponse:{followCollection:{__typename:"Collection",id:e.id,name:e.name,viewerEdge:{__typename:"CollectionViewerEdge",id:"collectionId:".concat(e.id,"-viewerId:").concat(t),isFollowing:!0}}},update:function(n){n.modify({id:"User:".concat(t),fields:{missionControl:(0,f.A4)("followedCollections",!0),followingCollectionConnection:(0,f.CQ)(e.id)}})}})}),[e.id])}(S,_),O=function(e,t){var n=(0,r.n)(c.E),l=(0,o.A)(n,1)[0];return i.useCallback((function(){return l({variables:{id:e.id},optimisticResponse:{unfollowCollection:{__typename:"Collection",id:e.id,name:e.name,viewerEdge:{__typename:"CollectionViewerEdge",id:"collectionId:".concat(e.id,"-viewerId:").concat(t),isFollowing:!1}}},update:function(e){e.modify({id:"User:".concat(t),fields:{missionControl:(0,f.A4)("followedCollections",!1)}})}})}),[e.id])}(S,_),W=i.useCallback((function(e){D&&e.preventDefault(),F.event("collection.followed",{collectionId:S.id,followSource:T,trackingV2:L,source:T}),H()}),[S,D,T,F,L]),Z=i.useCallback((function(e){D&&e.preventDefault(),F.event("collection.unfollowed",{collectionId:S.id,followSource:T,trackingV2:L,source:T}),O()}),[D,T,F,L]),M=!(null==q||!q.isFollowing),j=k?k(!!M):M?"OBVIOUS":"STRONG";return C?i.createElement(m.N,{onClick:M?Z:W},i.createElement(g.a,{display:"flex",flexDirection:"row"},M?"Unfollow publication":"Follow publication")):i.createElement(d.c,null,(function(e){return e?i.createElement(v.$n,{size:n,onClick:M?Z:W,buttonStyle:j,loading:P,width:z},M?"Following":"Follow"):i.createElement(p.r,{collection:S,buttonStyle:j,isButton:!0,buttonSize:n,operation:"register",actionUrl:y(A,S,R)||"",susiEntry:I,pageSource:(0,a.x)(B,"register"),buttonWidth:z},M?"Following":"Follow")}))},y=function(e,t,n){return t.slug&&(n&&n.id?(0,k.PdS)(e,t.slug,n.id):(0,k.xNA)(e,t.slug))}},43002:(e,t,n)=>{n.d(t,{w:()=>d});var o=n(96540),r=n(18599),i=n(60213),l=n(41299),a=n(86527),c=n(5600),u=n(36557),d=function(e){var t=e.collection,n=e.clamp,d=e.popoverPlacement,s=void 0===d?"bottom":d,p=e.scale,f=void 0===p?"M":p,m=e.testId,g=e.trackingV2,v=(0,i.z)(t),b=(0,o.useCallback)((function(){return o.createElement(r.a,{collection:t,trackingV2:g})}),[t,g]);return o.createElement(l.R,{placement:s,targetDistance:r.r,mouseLeaveDelay:100,mouseEnterDelay:c.A,popoverRenderFn:b,display:"block",noArrow:!0},o.createElement(a.N,{inline:!0,href:v,linkStyle:"SUBTLE",display:"flex",rules:{alignItems:"center"},"data-testid":m},o.createElement(u.kZ,{scale:f,color:"DARKER",clamp:n},t.name)))}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/719.fd316d3b.chunk.js.map